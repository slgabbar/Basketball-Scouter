{% extends 'base_dash.html' %}

{% load static %}

{% block side-content %}
<link rel="stylesheet" type="text/css" href="{% static 'game/css/scout_game.css' %}">
<header class="header">
    <nav class="navbar navbar-dark shadow-none" style="background-color: #36454f;">
        <a class="navbar-brand" href="{% url 'home' %}"><i class="fas fa-basketball-ball"></i></a>
    </nav>
</header>

<div class="game-side-header">
	<div class="game-title">{{request.user.team_name}} vs. {{game.opponent}}</div>
	<div class="game-date">{{game.date}}</div>
</div>

<table class="table-dark table-bordered player-table">
	<thead>
		<tr>
			<th>#</th>
			<th>Player</th>
			<th>Position</th>
		</tr>
	</thead>
	<tbody>
		{% for player in request.user.player.all %}
			<tr id="{{player}}" draggable="true" ondragstart="onDragStart(event);">
				<th>{{player.number}}</th>
				<th>{{player}}</th>
				<th>{{player.position}}</th>
			</tr>
		{% endfor %}
	</tbody>
</table>

{% endblock side-content %}

{% block content %}
<link rel="stylesheet" type="text/css" href="{% static 'game/css/shots.css' %}">
<link rel="stylesheet" type="text/css" href="{% static 'game/css/stats.css' %}">
<link rel="stylesheet" type="text/css" href="{% static 'game/css/player.css' %}">

<div class="left-container">
	<div class="player-container">
		<div class="player-button text-muted empty" ondrop="onDrop(event);" ondragover='onDragOver(event);' onclick="player_clicked(this);">Player 1</div>
		<div class="player-button text-muted empty" ondrop="onDrop(event);" ondragover='onDragOver(event);' onclick="player_clicked(this);">Player 2</div>
		<div class="player-button text-muted empty" ondrop="onDrop(event);" ondragover='onDragOver(event);' onclick="player_clicked(this);">Player 3</div>
		<div class="player-button text-muted empty" ondrop="onDrop(event);" ondragover='onDragOver(event);' onclick="player_clicked(this);">Player 4</div>
		<div class="player-button text-muted empty" ondrop="onDrop(event);" ondragover='onDragOver(event);' onclick="player_clicked(this);">Player 5</div>
	</div>
	<div class="shotchart"></div>
</div>

<div class="right-container">
	<div class="stat-button-container">
		<div class="button-row">
			<div class="stat-button disabled" id="oreb">OREB</div>
			<div class="stat-button disabled" id="dreb">DREB</div>
			<div class="stat-button disabled" id="ast">Assist</div>
			<div class="stat-button disabled" id="tov">Turnover</div>
			<div class="stat-button disabled" id="foul">Foul</div>
		</div>
		<div class="button-row">
			<div class="stat-button disabled" id="stl">Steal</div>
			<div class="stat-button disabled" id="blk">Block</div>
			<div class="stat-button disabled" id="ft">FT Miss</div>
			<div class="stat-button disabled" id="ftm">FT Made</div>
			<div class="stat-button disabled" id="ex"></div>
		</div>
	</div>
	<div class="play-by-play", id="play-by-play">
		<table class="table table-striped"><tbody></tbody></table>
	</div>	
</div>

	<script type="text/javascript">
		var GAME_READY = false;
		var PLAYER_SELECTED = false;
		var USER_SCORE = 0;
		var OPP_SCORE = 0;
	</script>


	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.2/jquery.min.js"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
	<script src="{% static 'js/jquery.bootstrap.modal.forms.min.js' %}"></script>

	<script src="https://d3js.org/d3.v5.min.js"></script>
	<script src="{% static 'js/d3-shot-chart.js' %}"></script>
	<script src="{% static 'game/js/shots.js' %}"></script>
	<script src="{% static 'game/js/scout_game.js' %}"></script>
	<script src="{% static 'game/js/players.js' %}"></script>

	<script type="text/javascript">
		var width = 600;
		draw_mens_ncaa(width);
		var court = d3.select("svg");
		register_shots(court, width);

		// add_button_row("Offensive Rebound", "btn-light", "Defensive Rebound","btn-dark");
		// add_button_row("Assist", "btn-success", "Turnover","btn-danger");
		// add_button_row("Block", "btn-info", "Steal","btn-warning");
		// add_button_row("FT Make", "btn-success", "FT Miss","btn-danger");
		// add_button_row("Opponent FT Make", "btn-dark", "Opponent FT Miss", "btn-light");
		// add_button_row("Opponent 2FG", "btn-dark", "Opponent 3FG", "btn-light");

	</script>

{% endblock content %}